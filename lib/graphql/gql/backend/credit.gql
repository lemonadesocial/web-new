#### Queries

query GetStandCredits($standId: String!) {
  getStandCredits(standId: $standId) {
    credits
    subscriptionTier
    subscriptionCredits
    purchasedCredits
    subscriptionRenewalDate
    subscriptionStatus
    estimatedDepletionDate
  }
}

query GetAvailableModels {
  getAvailableModels {
    id
    provider
    name
    tier
    creditsPerRequest
    capabilities
    isDefault
  }
}

query GetUsageAnalytics($standId: String!, $startDate: DateTimeISO!, $endDate: DateTimeISO!) {
  getUsageAnalytics(standId: $standId, startDate: $startDate, endDate: $endDate) {
    dailyUsage {
      date
      credits
      requests
    }
    byModel {
      model
      tier
      requests
      credits
      percentage
    }
    topUsers {
      userId
      requests
      credits
      percentage
    }
    totals {
      requests
      credits
      avgCreditsPerRequest
    }
  }
}

#### Mutations

mutation PurchaseSubscription($input: PurchaseSubscriptionInput!) {
  purchaseSubscription(input: $input) {
    checkoutUrl
    sessionId
  }
}

mutation PurchaseCredits($input: PurchaseCreditInput!) {
  purchaseCredits(input: $input) {
    checkoutUrl
    sessionId
  }
}

mutation CancelCreditSubscription($input: CancelSubscriptionInput!) {
  cancelSubscription(input: $input) {
    success
    effectiveDate
  }
}

mutation SetPreferredModel($input: SetPreferredModelInput!) {
  setPreferredModel(input: $input) {
    id
    provider
    name
    tier
    creditsPerRequest
    capabilities
    isDefault
  }
}
