fragment SpaceAsset on File {
  _id
  stamp
  state
  owner
  type
  size
  url
  bucket
  key
  description
}

fragment StockPhotoAttribution on StockPhotoAttribution {
  photographer
  source
  source_url
  license
}

fragment StockPhoto on StockPhoto {
  id
  url
  thumbnail_url
  width
  height
  description
  attribution {
    ...StockPhotoAttribution
  }
}

# Queries

query ListSpaceAssets($spaceId: ID!, $limit: Int, $offset: Int) {
  listSpaceAssets(spaceId: $spaceId, limit: $limit, offset: $offset) {
    ...SpaceAsset
  }
}

query SearchStockPhotos($query: String!, $source: StockPhotoSource, $page: Int, $perPage: Int) {
  searchStockPhotos(query: $query, source: $source, page: $page, perPage: $perPage) {
    ...StockPhoto
  }
}

# Mutations

mutation AddSpaceAsset($spaceId: ID!, $fileId: ID!) {
  addSpaceAsset(spaceId: $spaceId, fileId: $fileId)
}

mutation DeleteSpaceAsset($spaceId: ID!, $fileId: ID!) {
  deleteSpaceAsset(spaceId: $spaceId, fileId: $fileId)
}
